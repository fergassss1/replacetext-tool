<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Text Replace Tool</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
  }

  textarea, input, button {
    width: 100%;
    margin-top: 10px;
    padding: 10px;
    font-size: 16px;
    box-sizing: border-box;
    border-radius: 12px; /* Rounded corners for inputs and textarea */
  }

  button {
    cursor: pointer;
    background: #007bff;
    color: white;
    border: none;
    transition: background 0.3s;
  }

  button:hover {
    background: #0056b3;
  }
</style>


</head>
<body>

  <h2>Text Replace Tool</h2>

  <label>Text:</label>
  <textarea id="text" rows="6"></textarea>

  <label>Find:</label>
  <input id="find" type="text">

  <label>Replace with:</label>
  <input id="replace" type="text">

  <button onclick="replaceText()">Replace</button>
<script>
  // Escape regex special characters
  function escapeRegExp(string) {
    return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
  }

  function replaceText() {
    const textArea = document.getElementById("text");
    let findValue = document.getElementById("find").value;
    let replaceValue = document.getElementById("replace").value;

    if (findValue === "") return;

    // Check if the findValue contains $data placeholder
    if (findValue.includes("$data") && replaceValue.includes("$data")) {
      // Convert findValue into regex, capturing $data dynamically
      // Replace $data with a capture group (.*?)
      const regexStr = escapeRegExp(findValue).replace("\\$data", "(.*?)");
      const regex = new RegExp(regexStr, "g");

      // Replace $data in replaceValue with the captured group
      textArea.value = textArea.value.replace(regex, (match, p1) => {
        return replaceValue.replace("$data", p1);
      });
    } else {
      // Normal global replacement for exact matches
      const escapedFind = escapeRegExp(findValue);
      const regex = new RegExp(escapedFind, "g");
      textArea.value = textArea.value.replace(regex, replaceValue);
    }
  }
</script>
</body>
  </html>
  
